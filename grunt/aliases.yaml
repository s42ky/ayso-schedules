# Aliases
ls: 'availabletasks'
default: 'devo-build'

run:
  description: 'Run test on Android'
  tasks:
    - 'devo-build'
    - 'cordovacli:build_android'
    - 'cordovacli:emulate_android'

devo-build:
  description: 'Build for development environment'
  tasks:
    - 'base-build'
    - 'htmlbuild'

prod-build:
  description: 'Build for production environment'
  tasks:
    - 'base-build'
    - 'uglify'
    - 'htmlbuild:prod'

base-build:
  description: 'Common tasks for building'
  tasks:
    - 'lint' # TODO: add test
    - 'compile'
    - 'test-base'

lint:
  description: 'Static code and style analysis'
  tasks:
    - 'jshint'

compile:
  description: 'Actual joining and moving files'
  tasks:
    - 'sass'
    - 'bower_concat'
    - 'ngAnnotate'
    - 'replace'
    - 'copy'

test:
  description: 'Entry target for running just tests'
  tasks:
    - 'base-build'

test-base:
  description: 'Unit tests'
  tasks:
    - 'karma'
