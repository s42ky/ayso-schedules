webpackJsonp([1],{0:function(module,exports,__webpack_require__){__webpack_require__(333),__webpack_require__(144),__webpack_require__(560),__webpack_require__(334),__webpack_require__(329),module.exports=__webpack_require__(533)},17:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),router_1=__webpack_require__(12),TitleBarComponent=function(){function TitleBarComponent(){}return TitleBarComponent=__decorate([core_1.Component({selector:"title-bar",directives:[router_1.RouterLink],styles:["nav { margin-bottom: 1em; }"],template:'\n    <nav class="navbar navbar-dark bg-primary">\n        <div class="nav navbar-nav">\n            <!--<a class="nav-item nav-link" [routerLink]="[\'/Home\']">Back</a>-->\n            <a class="nav-item nav-link centered" [routerLink]="[\'/Home\']">AYSO Kansas</a>\n        </div>\n    </nav>\n    '}),__metadata("design:paramtypes",[])],TitleBarComponent)}();exports.TitleBarComponent=TitleBarComponent,exports.default=TitleBarComponent},22:function(module,exports,__webpack_require__){function getRegionByNumber(regionNumber){var match=REGIONS.filter(function(r){return r.number===regionNumber});if(1!==match.length)throw new RangeError("No region found for region number "+regionNumber);return match[0]}function getRegionById(id){var match=REGIONS.filter(function(r){return r.id===id});if(1!==match.length)throw new RangeError("No region found for region id"+id);return match[0]}var region_1=__webpack_require__(156);exports.Region=region_1.default;var REGIONS=[new region_1.default(1,49,"Stryker","./img/Fields049.svg",37.737437,-97.213361),new region_1.default(2,105,"Southview","./img/Fields105.svg",37.611328,-97.367567),new region_1.default(4,208,"West Wichita","./img/Fields208.svg",37.842481,-97.372607),new region_1.default(5,253,"Valley Center","./img/Fields253.svg",37.842481,-97.372607),new region_1.default(6,491,"Clearwater","./img/Fields491.svg",37.503879,-97.490616)];exports.default=REGIONS,exports.REGIONS=REGIONS,exports.getRegionByNumber=getRegionByNumber,exports.getRegionById=getRegionById},23:function(module,exports){function ClassLogger(target,property){var loggerName=target.constructor.toString().match(/\w+/g)[1],logger=new Logger(loggerName);target[property]=logger,Object.keys(target).filter(function(key){return"function"==typeof target[key]}).forEach(function(key){var method=key+"()",descriptor=Object.getOwnPropertyDescriptor(target,key),originalMethod=descriptor.value;descriptor.value=function(){var result=originalMethod.apply(this,arguments);return"object"==typeof result&&result.hasOwnProperty("_id")&&"function"==typeof result.then?(logger.debug(method,arguments,"=> emit Promise #",result._id),result.then(function(val){return logger.debug("Promise (",method,result._id,") => ",val)})):logger.debug(method,arguments,"=>",result),result},Object.defineProperty(target,key,descriptor)})}var Level;!function(Level){Level[Level.ALL=0]="ALL",Level[Level.TRACE=1]="TRACE",Level[Level.DEBUG=2]="DEBUG",Level[Level.INFO=3]="INFO",Level[Level.WARN=4]="WARN",Level[Level.ERROR=5]="ERROR",Level[Level.FATAL=6]="FATAL",Level[Level.NONE=7]="NONE"}(Level||(Level={})),exports.Level=Level;var Logger=function(){function Logger(n,l){this.level=null,this.name=n,this.level=l||null}return Logger.prototype.setLevel=function(newLevel){this.level=newLevel},Logger.prototype.clearLevel=function(){this.level=null},Logger.prototype.isEnabled=function(level){return null!==this.level?level>=this.level:level>=Logger.GLOBAL_LEVEL},Logger.prototype.fatal=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.FATAL)&&console.error.apply(console,[this.name,"[FATAL]"].concat(messages))},Logger.prototype.error=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.ERROR)&&console.error.apply(console,[this.name,"[ERROR]"].concat(messages))},Logger.prototype.warn=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.WARN)&&console.warn.apply(console,[this.name,"[WARN]"].concat(messages))},Logger.prototype.log=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.info(messages)},Logger.prototype.info=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.INFO)&&console.info.apply(console,[this.name,"[INFO]"].concat(messages))},Logger.prototype.debug=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.DEBUG)&&console.debug.apply(console,[this.name,"[DEBUG]"].concat(messages))},Logger.prototype.trace=function(){for(var messages=[],_i=0;_i<arguments.length;_i++)messages[_i-0]=arguments[_i];this.isEnabled(Level.TRACE)&&console.debug.apply(console,[this.name,"[TRACE]"].concat(messages))},Logger.GLOBAL_LEVEL=Level.INFO,Logger.Level=Level,Logger}();exports.Logger=Logger,exports.default=ClassLogger,exports.ClassLogger=ClassLogger},28:function(module,exports,__webpack_require__){var team_1=__webpack_require__(157);exports.Team=team_1.default;var region_1=__webpack_require__(156);exports.Region=region_1.default;var core_1=__webpack_require__(3),SettingsDAO=new core_1.OpaqueToken("SettingsDAO");exports.default=SettingsDAO,exports.SettingsDAO=SettingsDAO},31:function(module,exports,__webpack_require__){var game_1=__webpack_require__(155);exports.Game=game_1.default;var division_1=__webpack_require__(154);exports.Division=division_1.default;var gender_1=__webpack_require__(73);exports.Gender=gender_1.default;var core_1=__webpack_require__(3),GamesDAO=new core_1.OpaqueToken("GamesDAO");exports.default=GamesDAO,exports.GamesDAO=GamesDAO},38:function(module,exports,__webpack_require__){var core_1=__webpack_require__(3),IInitializationService=new core_1.OpaqueToken("IInitializationService");exports.default=IInitializationService,exports.IInitializationService=IInitializationService},39:function(module,exports,__webpack_require__){var team_1=__webpack_require__(157);exports.Team=team_1.default;var region_1=__webpack_require__(156);exports.Region=region_1.default;var division_1=__webpack_require__(154);exports.Division=division_1.default;var core_1=__webpack_require__(3),TeamsDAO=new core_1.OpaqueToken("TeamsDAO");exports.default=TeamsDAO,exports.TeamsDAO=TeamsDAO},54:function(module,exports,__webpack_require__){function calculateCurrentWeek(starts,now){if(void 0===now&&(now=new Date),0===starts.length)throw new RangeError("Need at least 1 date object in starts");return now.valueOf()<starts[0].valueOf()?1:starts.filter(function(start){return start.valueOf()<=now.valueOf()}).length}var core_1=__webpack_require__(3),WeekCacheInterface=new core_1.OpaqueToken("WeekCacheInterface");exports.default=WeekCacheInterface,exports.WeekCacheInterface=WeekCacheInterface,exports.calculateCurrentWeek=calculateCurrentWeek},73:function(module,exports){function findGenderByCode(code){var res=GENDERS.filter(function(g){return g.short===code});if(1!==res.length)throw new RangeError('Invalid gender for code "'+code+'"');return res[0]}var Gender=function(){function Gender(short,long){this.short=short,this.long=long}return Gender.prototype.equals=function(o){return o&&o.long===this.long},Gender}();exports.default=Gender,exports.Gender=Gender;var GENDERS=[new Gender("B","Boys"),new Gender("G","Girls"),new Gender("C","Coed"),new Gender("T","Coed ")];exports.GENDERS=GENDERS,exports.findGenderByCode=findGenderByCode},102:function(module,exports){function checkPresent(val){return"undefined"!=typeof val&&null!==val&&""!==val}exports.checkPresent=checkPresent},103:function(module,exports,__webpack_require__){function getAgeGroupByCutoff(cutoff){var match=AGES.filter(function(ag){return ag.cutoff===cutoff});if(1!==match.length)throw new RangeError("No age group found with cutoff of "+cutoff);return match[0]}var ageGroup_1=__webpack_require__(542);exports.AgeGroup=ageGroup_1.AgeGroup;var AGES=[new ageGroup_1.AgeGroup(1,19),new ageGroup_1.AgeGroup(2,16),new ageGroup_1.AgeGroup(3,14),new ageGroup_1.AgeGroup(4,12),new ageGroup_1.AgeGroup(5,10),new ageGroup_1.AgeGroup(6,8),new ageGroup_1.AgeGroup(7,6)];exports.AGES=AGES,exports.default=AGES,exports.getAgeGroupByCutoff=getAgeGroupByCutoff},152:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),common_1=__webpack_require__(11),router_1=__webpack_require__(12),game_1=__webpack_require__(155),util_1=__webpack_require__(102),log_decorator_1=__webpack_require__(23),TwoTeamsGamesListComponent=function(){function TwoTeamsGamesListComponent(){this.byesList="",this.gamesList=[]}return TwoTeamsGamesListComponent.prototype.ngOnChanges=function(){this.parseGamesList()},TwoTeamsGamesListComponent.prototype.parseGamesList=function(){var _this=this;if(!util_1.checkPresent(this.games))return void this.log.warn("No games for Games2List");var byes=[];this.games.sort(game_1.default.compare);var lastTime=new Date(0,0,0,0,0,0).valueOf();this.gamesList=[],this.games.forEach(function(game){game.isBye()?byes.push(game.getTeamWithBye()):(lastTime!==game.startTime.valueOf()&&(_this.gamesList.push(new Row(game,!0)),lastTime=game.startTime.valueOf()),_this.gamesList.push(new Row(game,!1)))}),byes.sort(),this.byesList=byes.join(",")},TwoTeamsGamesListComponent.prototype.hasNoResults=function(){return 0===this.byesList.length&&0===this.gamesList.length},TwoTeamsGamesListComponent.prototype.hasByes=function(){return 0===this.byesList.length},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],TwoTeamsGamesListComponent.prototype,"log",void 0),__decorate([core_1.Input(),__metadata("design:type",Array)],TwoTeamsGamesListComponent.prototype,"games",void 0),TwoTeamsGamesListComponent=__decorate([core_1.Component({selector:"two-teams-game-list",directives:[common_1.NgFor,common_1.NgIf,router_1.RouterLink],pipes:[common_1.DatePipe],template:'\n    <div class="card card-block card-info-outline" *ngIf="byesList">\n        <span class="card-title bold m-r-2">Byes:</span>\n        <span class="card-text">{{byesList}}</span>\n    </div>\n    <div class="list-group">\n        <div *ngFor="#row of gamesList">\n            <button type="button" class="container list-group-item"\n             *ngIf="!row.isHeader" [routerLink]="[\'/GameDetail\',{id:row.game.id}]">\n                <div class="col-xs-6">Region {{row.game.region}}, Field {{row.game.field}}</div>\n                <div class="col-xs-6 text-xs-right">{{row.game.homeTeam}} vs {{row.game.awayTeam}}</div>\n            </button>\n            <div class="list-group-item-header m-t-1" *ngIf="row.isHeader">\n                <h4>{{row.headerTime | date:\'MMMdjm\'}}</h4>\n            </div>\n        </div>\n        <div class="list-group-item text-xs-center text-warning" *ngIf="hasNoResults()">No results</div>\n    </div>\n    '}),__metadata("design:paramtypes",[])],TwoTeamsGamesListComponent)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=TwoTeamsGamesListComponent;var Row=function(){function Row(game,isHeader){this.game=game,this.isHeader=isHeader,this.headerTime=void 0,isHeader&&(this.headerTime=game.startTime)}return Row}()},153:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),games_interface_1=__webpack_require__(31),settings_interface_1=__webpack_require__(28),teams_interface_1=__webpack_require__(39),week_cache_interface_1=__webpack_require__(54),log_decorator_1=__webpack_require__(23),DataControlService=function(){function DataControlService(games,settings,teams,weekCache){this.games=games,this.settings=settings,this.teams=teams,this.weekCache=weekCache}return DataControlService.prototype.init=function(){var _this=this;return Promise.all([this.games.init().then(function(){return _this.log.info("Games init"),0}),this.teams.init().then(function(){return _this.log.info("Teams init"),0}),this.settings.init().then(function(){return _this.log.info("Settings init"),0}),this.weekCache.init().then(function(){return _this.log.info("Week Cache init"),0})]).then(function(){return Promise.resolve(new Date)})},DataControlService.prototype.getLastUpdate=function(){return new Date},DataControlService.prototype.update=function(force){var _this=this;return Promise.all([this.games.update(),this.teams.update(),this.weekCache.init()]).then(function(){return _this.getLastUpdate()})},DataControlService.prototype.reset=function(){return Promise.all([this.settings.reset(),this.games.clear(),this.teams.clear(),this.weekCache.clear()]).then(function(){return Promise.resolve()})},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],DataControlService.prototype,"log",void 0),DataControlService=__decorate([core_1.Injectable(),__param(0,core_1.Inject(games_interface_1.GamesDAO)),__param(1,core_1.Inject(settings_interface_1.SettingsDAO)),__param(2,core_1.Inject(teams_interface_1.TeamsDAO)),__param(3,core_1.Inject(week_cache_interface_1.WeekCacheInterface)),__metadata("design:paramtypes",[Object,Object,Object,Object])],DataControlService)}();exports.default=DataControlService,exports.DataControlService=DataControlService},154:function(module,exports,__webpack_require__){var gender_1=__webpack_require__(73),ages_1=__webpack_require__(103),lang_1=__webpack_require__(1),SPACE=" ",Division=function(){function Division(gender,age){this.gender=gender,this.age=age}return Division.fromString=function(display){var matches=display.match(/U?([0-9]+)([A-Z])/i);if(null===matches)throw new RangeError("Invalid format for division code");var code=gender_1.findGenderByCode(matches[2]),age=ages_1.getAgeGroupByCutoff(Number.parseInt(matches[1],10));return new Division(code,age)},Division.prototype.getDisplayName=function(){var sj=new lang_1.StringJoiner([this.age.toString(),SPACE,this.gender.long]);return sj.toString()},Division}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Division},155:function(module,exports){var Game=function(){function Game(id,homeTeam,awayTeam,weekNum,startTime,region,field,divis){this.id=id,this.homeTeam=homeTeam,this.awayTeam=awayTeam,this.weekNum=weekNum,this.startTime=startTime,this.region=region,this.field=field,this.divis=divis}return Game.compare=function(l,r){return l.startTime.valueOf()-r.startTime.valueOf()},Game.prototype.hasTeam=function(teamId){return this.homeTeam===teamId||this.awayTeam===teamId},Game.prototype.getOpponent=function(myTeamId){if(myTeamId===this.awayTeam)return this.homeTeam;if(myTeamId===this.homeTeam)return this.awayTeam;throw new RangeError("Team "+myTeamId+" is not playing in this game")},Game.prototype.isBye=function(){return this.hasTeam(Game.BYE_TEAM)},Game.prototype.getTeamWithBye=function(){if(!this.isBye())throw new RangeError("This game is not a bye.");return this.getOpponent(Game.BYE_TEAM)},Game.BYE_TEAM="-",Game}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Game},156:function(module,exports){var Region=function(){function Region(id,number,name,mapFile,lat,lon){this.id=id,this.number=number,this.name=name,this.mapFile=mapFile,this.lat=lat,this.lon=lon}return Region.prototype.equals=function(o){return o&&this.id===o.id},Region}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Region},157:function(module,exports){var Team=function(){function Team(code,coach,coachTel,division,regionNumber){this.code=code,this.coach=coach,this.coachTel=coachTel,this.division=division,this.regionNumber=regionNumber}return Team.prototype.equals=function(o){return this.code===o.code},Team}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Team},158:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),log_decorator_1=__webpack_require__(23),NameSwitchPipe=function(){function NameSwitchPipe(){}return NameSwitchPipe.prototype.transform=function(name){return"string"!=typeof name?(this.log.warn("Unexpected parameter for pipe",name),""):name.replace(/^([^,]*), ([^,]*)$/,"$2 $1")},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],NameSwitchPipe.prototype,"log",void 0),NameSwitchPipe=__decorate([core_1.Pipe({name:"NameSwitch"}),__metadata("design:paramtypes",[])],NameSwitchPipe)}();exports.default=NameSwitchPipe,exports.NameSwitchPipe=NameSwitchPipe},255:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),common_1=__webpack_require__(11),week_cache_interface_1=__webpack_require__(54),log_decorator_1=__webpack_require__(23),ONE=1,WeekBarComponent=function(){function WeekBarComponent(_weeks){this._weeks=_weeks,this.onInit=new core_1.EventEmitter,this.weekChange=new core_1.EventEmitter}return WeekBarComponent.prototype.ngOnInit=function(){var _this=this;this._weeks.init().then(function(){_this.max=_this._weeks.getMaxWeeks()})},WeekBarComponent.prototype.showPrevious=function(){return this.week&&1!==this.week},WeekBarComponent.prototype.showNext=function(){return this.week&&this.max&&this.week!==this.max},WeekBarComponent.prototype.changePrev=function(){this.weekChange.emit(this.week-ONE)},WeekBarComponent.prototype.changeNext=function(){this.weekChange.emit(this.week+ONE)},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],WeekBarComponent.prototype,"log",void 0),__decorate([core_1.Input(),__metadata("design:type",Number)],WeekBarComponent.prototype,"week",void 0),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],WeekBarComponent.prototype,"weekChange",void 0),WeekBarComponent=__decorate([core_1.Component({selector:"week-bar",directives:[common_1.NgIf],styles:["nav span { font: 2em bold; }"],template:'\n     <nav class="navbar navbar-light text-xs-center">\n        <button type="button" class="btn btn-primary-outline nav-item nav-link pull-xs-left"\n            *ngIf="showPrevious()" (click)="changePrev()">Back</button>\n        <span class="nav-item">Week #{{week}}</span>\n        <button type="button" class="btn btn-primary-outline nav-item nav-link pull-xs-right"\n            *ngIf="showNext()" (click)="changeNext()">Next</button>\n    </nav>\n    '}),core_1.Injectable(),__param(0,core_1.Inject(week_cache_interface_1.default)),__metadata("design:paramtypes",[Object])],WeekBarComponent)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=WeekBarComponent},256:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),settings_interface_1=__webpack_require__(28);exports.SettingsDAO=settings_interface_1.SettingsDAO;var initialization_interface_1=__webpack_require__(38),teams_interface_1=__webpack_require__(39),regions_1=__webpack_require__(22),log_decorator_1=__webpack_require__(23),core_2=__webpack_require__(3),SAVED_TEAMS_KEY="ayso-teams",SAVED_REGION_KEY="ayso-region",ILocalStorage=new core_2.OpaqueToken("ILocalStorage");exports.ILocalStorage=ILocalStorage;var LocalStorageSettingsService=function(){function LocalStorageSettingsService(client,dao,initializer){this.client=client,this.dao=dao,this.initializer=initializer,this.teams=[],this.region=void 0,this.log.setLevel(log_decorator_1.Level.TRACE);var savedList=this.client.getItem(SAVED_TEAMS_KEY)||"";this.log.info("Retrieved teams from LocalStorage",savedList),savedList&&(this.teams=savedList.split(",")),this.log.info("Parsed teams into array",this.teams)}return LocalStorageSettingsService.prototype.getSavedTeamIDs=function(){return Promise.resolve(this.teams)},LocalStorageSettingsService.prototype.getSavedTeams=function(){return this.dao.getTeams(this.teams)},LocalStorageSettingsService.prototype.saveTeam=function(team){return this._isTeamSaved(team)||this.teams.push(team),this.persistTeams(),Promise.resolve()},LocalStorageSettingsService.prototype.unSaveTeam=function(team){return this.teams=this.teams.filter(function(item){return item!==team}),this.persistTeams(),Promise.resolve()},LocalStorageSettingsService.prototype.isTeamSaved=function(team){return Promise.resolve(this._isTeamSaved(team))},LocalStorageSettingsService.prototype.clearSavedTeams=function(){return this.teams=[],this.persistTeams(),Promise.resolve()},LocalStorageSettingsService.prototype.getRegionNumber=function(){var n=Number.parseInt(this.client.getItem(SAVED_REGION_KEY),10);return Promise.resolve(isNaN(n)?void 0:n)},LocalStorageSettingsService.prototype.getRegion=function(){return this.getRegionNumber().then(function(num){return Promise.resolve(regions_1.getRegionByNumber(num))})},LocalStorageSettingsService.prototype.setRegion=function(region){return isNaN(region)||this.client.setItem(SAVED_REGION_KEY,region.toString()),Promise.resolve()},LocalStorageSettingsService.prototype.init=function(){var _this=this;return null===this.initializer?Promise.resolve():this.initializer.getSettings().then(function(preset){_this.log.debug("Setting from initializer: ",preset),_this.setRegion(preset.regionNumber),_this.teams=preset.savedTeams||[],_this.persistTeams()})},LocalStorageSettingsService.prototype.isAppConfigured=function(){return!isNaN(Number.parseInt(this.client.getItem(SAVED_REGION_KEY),10))},LocalStorageSettingsService.prototype.reset=function(){return this.region=void 0,this.teams=[],this.client.removeItem(SAVED_REGION_KEY),this.client.removeItem(SAVED_TEAMS_KEY),Promise.resolve()},LocalStorageSettingsService.prototype._isTeamSaved=function(team){return this.teams.some(function(item){return item===team})},LocalStorageSettingsService.prototype.persistTeams=function(){this.client.setItem(SAVED_TEAMS_KEY,this.teams.join(","))},LocalStorageSettingsService.KEYS={TEAMS:SAVED_TEAMS_KEY,REGION:SAVED_REGION_KEY},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],LocalStorageSettingsService.prototype,"log",void 0),LocalStorageSettingsService=__decorate([core_1.Injectable(),__param(0,core_1.Inject(ILocalStorage)),__param(1,core_1.Inject(teams_interface_1.TeamsDAO)),__param(2,core_1.Optional()),__param(2,core_1.Inject(initialization_interface_1.IInitializationService)),__metadata("design:paramtypes",[Object,Object,Object])],LocalStorageSettingsService)}();exports.default=LocalStorageSettingsService,exports.LocalStorageSettingsService=LocalStorageSettingsService},532:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),router_1=__webpack_require__(12),routes_1=__webpack_require__(534),AppComponent=function(){function AppComponent(){}return AppComponent=__decorate([core_1.Component({selector:"ayso-app",directives:[router_1.ROUTER_DIRECTIVES],template:"\n    <main>\n      <router-outlet></router-outlet>\n    </main>"}),router_1.RouteConfig(routes_1.default),__metadata("design:paramtypes",[])],AppComponent)}();exports.AppComponent=AppComponent,exports.default=AppComponent},533:function(module,exports,__webpack_require__){var common_1=__webpack_require__(11),core_1=__webpack_require__(3),http_1=__webpack_require__(166),browser_1=__webpack_require__(266),router_1=__webpack_require__(12),core_2=__webpack_require__(159),ENV_PROVIDERS=[];ENV_PROVIDERS.push(browser_1.ELEMENT_PROBE_PROVIDERS);var games_mem_service_1=__webpack_require__(538),teams_mem_service_1=__webpack_require__(540),weeks_mem_service_1=__webpack_require__(541),settings_mem_service_1=__webpack_require__(539),data_control_service_1=__webpack_require__(153),intercept_root_router_1=__webpack_require__(536),app_component_1=__webpack_require__(532),initialization_interface_1=__webpack_require__(38),http_init_service_1=__webpack_require__(537),settings_ls_service_1=__webpack_require__(256),settings_ls_service_2=__webpack_require__(256);document.addEventListener("DOMContentLoaded",function(){browser_1.bootstrap(app_component_1.default,ENV_PROVIDERS.concat(router_1.ROUTER_PROVIDERS,core_2.ANGULAR2_GOOGLE_MAPS_PROVIDERS,common_1.FORM_PROVIDERS,http_1.HTTP_PROVIDERS,[core_1.provide(settings_ls_service_2.ILocalStorage,{useValue:window.localStorage}),core_1.provide(initialization_interface_1.IInitializationService,{useClass:http_init_service_1.HttpInitService}),core_1.provide(games_mem_service_1.GamesDAO,{useClass:games_mem_service_1.InMemoryGamesService}),core_1.provide(teams_mem_service_1.TeamsDAO,{useClass:teams_mem_service_1.InMemoryTeamsService}),core_1.provide(settings_mem_service_1.SettingsDAO,{useClass:settings_ls_service_1.LocalStorageSettingsService}),core_1.provide(weeks_mem_service_1.WeekCacheInterface,{useClass:weeks_mem_service_1.InMemoryWeeksService}),data_control_service_1.DataControlService,intercept_root_router_1.INTERCEPT_ROUTER_PROVIDER])).catch(function(err){})})},534:function(module,exports,__webpack_require__){var game_detail_1=__webpack_require__(547),region_list_1=__webpack_require__(551),field_map_1=__webpack_require__(546),home_1=__webpack_require__(548),favorites_list_1=__webpack_require__(545),search_results_1=__webpack_require__(553),search_1=__webpack_require__(554),cancellations_1=__webpack_require__(544),map_1=__webpack_require__(550),team_schedule_1=__webpack_require__(556),week_schedule_1=__webpack_require__(558),schedules_menu_1=__webpack_require__(552),settings_1=__webpack_require__(555),team_select_1=__webpack_require__(557),init_config_1=__webpack_require__(549),AYSO_APP_ROUTES=[{path:"/",useAsDefault:!0,name:"Home",component:home_1.HomeView},{path:"/schedules",name:"SchedulesMenu",component:schedules_menu_1.SchedulesMenuView},{path:"/favorites",name:"FavoritesSchedule",component:favorites_list_1.default},{path:"/search",name:"DivisionSelect",component:search_1.SearchView},{path:"/search/week/:week/results",name:"DivisionSchedule",component:search_results_1.SearchResultsView},{path:"/game/:id",name:"GameDetail",component:game_detail_1.default},{path:"/regions",name:"RegionList",component:region_list_1.default},{path:"/region/:region/field",name:"FieldDetail",component:field_map_1.default},{path:"/region/:region/map",name:"MapDetail",component:map_1.MapView},{path:"/teams",name:"TeamSelect",component:team_select_1.TeamSelectView},{path:"/team/:id",name:"TeamSchedule",component:team_schedule_1.TeamScheduleView},{path:"/week",name:"CurWeekSchedule",component:week_schedule_1.WeekScheduleView},{path:"/week/:num",name:"WeekSchedule",component:week_schedule_1.WeekScheduleView},{path:"/twitter",name:"TwitterView",component:cancellations_1.CancellationsView},{path:"/settings",name:"Settings",component:settings_1.default},{path:"/init",name:"Init",component:init_config_1.InitialConfigurationView}];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AYSO_APP_ROUTES},535:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),common_1=__webpack_require__(11),router_1=__webpack_require__(12),games_interface_1=__webpack_require__(31),vs_at_game_pipe_1=__webpack_require__(543),SingleTeamGameListComponent=function(){
function SingleTeamGameListComponent(dao){this.dao=dao}return SingleTeamGameListComponent.prototype.ngOnInit=function(){var _this=this;"undefined"==typeof this.games&&this.dao.findForTeam(this.team).then(function(games){return _this.games})},SingleTeamGameListComponent.prototype.hasNoResults=function(){return this.games&&0===this.games.length},__decorate([core_1.Optional(),core_1.Input(),__metadata("design:type",Array)],SingleTeamGameListComponent.prototype,"games",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],SingleTeamGameListComponent.prototype,"team",void 0),SingleTeamGameListComponent=__decorate([core_1.Component({selector:"single-team-game-list",directives:[common_1.NgFor,router_1.RouterLink],styles:[".team { height: 100%; text-valign: middle}"],pipes:[common_1.DatePipe,vs_at_game_pipe_1.VsAtGameFormatPipe],template:'\n    <div class="list-group">\n        <div class="list-group-item text-xs-center text-warning" *ngIf="hasNoResults()">No games found</div>\n\n        <button type="button" class="list-group-item container"\n         *ngFor="#game of games" [routerLink]="[\'/GameDetail\',{id:game.id}]">\n            <div class="col-xs-6">\n                <h5>{{game.startTime | date:\'MMMdjm\'}}</h5>\n                <div class="m-l-2">\n                    Region {{game.region}}, Field {{game.field}}\n                </div>\n            </div>\n            <h4 class="col-xs-5 team text-xs-center" *ngIf="team">\n                {{game | vsAtGame:team }}\n            </h4>\n        </button>\n    </div>\n    '}),__param(0,core_1.Optional()),__param(0,core_1.Inject(games_interface_1.GamesDAO)),__metadata("design:paramtypes",[Object])],SingleTeamGameListComponent)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SingleTeamGameListComponent},536:function(module,exports,__webpack_require__){function executeIntercept(url){return appIsConfigured?!1:(appIsConfigured=settings.isAppConfigured(),!(appIsConfigured||url.toLocaleLowerCase().startsWith("/init")))}function interceptRouterFactory(registry,location,primaryComponent,appRef,settingsDAO){settings=settingsDAO,appIsConfigured=settings.isAppConfigured();var rootRouter=new InterceptRootRouter(registry,location,primaryComponent);return appRef.registerDisposeListener(function(){return rootRouter.dispose()}),rootRouter}var settings,__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},lang_1=__webpack_require__(1),core_1=__webpack_require__(3),router_1=__webpack_require__(71),router_2=__webpack_require__(12),settings_interface_1=__webpack_require__(28),appIsConfigured=!1,InterceptRootRouter=function(_super){function InterceptRootRouter(){_super.apply(this,arguments)}return __extends(InterceptRootRouter,_super),InterceptRootRouter.prototype.navigateToInit=function(url){var instruction=this.generate(["/Init",{url:url}]);return this.navigateByInstruction(instruction,!1)},InterceptRootRouter.prototype.navigate=function(linkParams){if(executeIntercept(linkParams[0])){var url=this.generate(linkParams).toRootUrl();return this.navigateToInit(url)}return _super.prototype.navigate.call(this,linkParams)},InterceptRootRouter.prototype.navigateByUrl=function(url,_skipLocationChange){return void 0===_skipLocationChange&&(_skipLocationChange=!1),executeIntercept(url)?this.navigateToInit(url):_super.prototype.navigateByUrl.call(this,url,_skipLocationChange)},InterceptRootRouter}(router_1.RootRouter);exports.InterceptRootRouter=InterceptRootRouter;var INTERCEPT_ROUTER_PROVIDER=lang_1.CONST_EXPR(new core_1.Provider(router_2.Router,{useFactory:interceptRouterFactory,deps:lang_1.CONST_EXPR([router_2.RouteRegistry,router_2.Location,router_2.ROUTER_PRIMARY_COMPONENT,core_1.ApplicationRef,settings_interface_1.SettingsDAO])}));exports.default=INTERCEPT_ROUTER_PROVIDER,exports.INTERCEPT_ROUTER_PROVIDER=INTERCEPT_ROUTER_PROVIDER},537:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},http_1=__webpack_require__(166),core_1=__webpack_require__(3),Rx_1=__webpack_require__(337),division_1=__webpack_require__(154),game_1=__webpack_require__(155),team_1=__webpack_require__(157),regions_1=__webpack_require__(22),gender_1=__webpack_require__(73),ages_1=__webpack_require__(103),initialization_interface_1=__webpack_require__(38);exports.IInitializationService=initialization_interface_1.IInitializationService;var log_decorator_1=__webpack_require__(23),URL="data.json",HttpInitService=function(){function HttpInitService(http){var _this=this;this.http=http,this.dataObservable=new Rx_1.ReplaySubject,this.log.log("HttpInitService constructor"),this.remoteObservable=this.http.get(URL),this.dataObservable=new Rx_1.ReplaySubject(1),this.log.debug(this),this.remoteObservable.map(function(response){if(response.status<200||response.status>299)throw _this.log.error("Response not OK",response),new Error(response.status+" "+response.statusText);return _this.log.debug(response),response.json()}).subscribe(this.dataObservable)}return HttpInitService.prototype.getTeams=function(){return this.dataObservable.map(function(data){return data.Coaches}).map(function(coaches){return coaches.map(ModelTranslation.translateCoach)}).toPromise()},HttpInitService.prototype.getGames=function(){return this.dataObservable.map(function(data){return data.Games}).map(function(games){return games.map(ModelTranslation.translateGame)}).toPromise()},HttpInitService.prototype.getWeekStarts=function(){return this.dataObservable.map(function(data){var lastDate=0;return data.Games.map(function(game){return new Date(game.Jour).valueOf()}).sort().filter(function(timestamp){var result=timestamp!==lastDate;return lastDate=timestamp,result}).map(function(timestamp){return new Date(timestamp)})}).toPromise()},HttpInitService.prototype.getSettings=function(){return Promise.resolve({})},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],HttpInitService.prototype,"log",void 0),HttpInitService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[http_1.Http])],HttpInitService)}();exports.default=HttpInitService,exports.HttpInitService=HttpInitService;var ModelTranslation=function(){function ModelTranslation(){}return ModelTranslation.translateCoach=function(coach){try{return new team_1.default(coach.TeamNo,coach.Coach,coach.Phone,ModelTranslation.divisionFromCode(coach.Divis),regions_1.getRegionById(Number.parseInt(coach.TeamNo[0],10)).number)}catch(err){console.error("Team translation error",coach,err)}},ModelTranslation.translateGame=function(game){try{var location_1=game.Field.match(/([0-9]*) ?(Field)? ?(.*)/);return new game_1.default(game.ID,game.Home,game.Away,parseInt(game.Week,10),new Date(Date.parse(game.Jour+" "+game.Heur)),parseInt(location_1[1],10),location_1[3],ModelTranslation.divisionFromCode(game.Divis))}catch(err){console.error("Game translation error",game,err)}},ModelTranslation.divisionFromCode=function(divis){return new division_1.default(gender_1.findGenderByCode(divis[1]),ages_1.AGES[parseInt(divis[0],10)-1])},ModelTranslation}()},538:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),games_interface_1=__webpack_require__(31);exports.GamesDAO=games_interface_1.default;var util_1=__webpack_require__(102),initialization_interface_1=__webpack_require__(38),log_decorator_1=__webpack_require__(23),InMemoryGamesService=function(){function InMemoryGamesService(initializer){this.initializer=initializer,this.initializePromise=null,this.games=[],this.initialized=!1,this.initializePromise=this.init()}return InMemoryGamesService.prototype.getGame=function(id){var _this=this;return this.initialized?new Promise(function(resolve,reject){var match=_this.games.filter(function(game){return game.id===id});0===match.length&&reject(new RangeError("Game not found for id: "+id)),resolve(match[0])}):(this.log.debug("Waiting until after init for getGame()"),this.initializePromise.then(function(){return _this.getGame(id)}))},InMemoryGamesService.prototype.findByWeek=function(week,region){var _this=this;return this.initialized?Promise.resolve(this.games.filter(function(game){return game.weekNum===week}).filter(function(game){return isNaN(region)||region===Number.parseInt(game.region.toString(),10)})):(this.log.debug("Waiting until after init for findByWeek()"),this.initializePromise.then(function(){return _this.findByWeek(week,region)}))},InMemoryGamesService.prototype.findGames=function(regionNum,ageGroup,gender,week){var _this=this;return this.initialized?Promise.resolve(this.games.filter(function(game){return util_1.checkPresent(week)&&week!==game.weekNum?!1:util_1.checkPresent(regionNum)&&regionNum!==game.region?!1:util_1.checkPresent(ageGroup)&&ageGroup!==game.divis.age.code.toString()?!1:!(util_1.checkPresent(gender)&&gender!==game.divis.gender.long)})):(this.log.debug("Waiting until after init for findGames()"),this.initializePromise.then(function(){return _this.findGames(regionNum,ageGroup,gender,week)}))},InMemoryGamesService.prototype.findForTeam=function(teamID){var _this=this;return this.initialized?this.findForTeams([teamID]):(this.log.debug("Waiting until after init for findForTeam()"),this.initializePromise.then(function(){return _this.findForTeam(teamID)}))},InMemoryGamesService.prototype.findForTeams=function(teamIDs){var _this=this;if(!this.initialized)return this.log.debug("Waiting until after init for findForTeams()"),this.initializePromise.then(function(){return _this.findForTeams(teamIDs)});var teams=new Set(teamIDs);return Promise.resolve(this.games.filter(function(game){return teams.has(game.homeTeam)||teams.has(game.awayTeam)}))},InMemoryGamesService.prototype.init=function(){var _this=this;return null!==this.initializePromise?this.initializePromise:null===this.initializer?(this.initialized=!0,Promise.resolve(0)):this.initializer.getGames().then(function(res){_this.games=res,_this.initialized=!0})},InMemoryGamesService.prototype.clear=function(){return this.games=[],Promise.resolve()},InMemoryGamesService.prototype.update=function(updates){var _this=this,gameSet=new Set;return updates.forEach(function(game){return gameSet.add(game)}),this.games.forEach(function(game){return gameSet.add(game)}),this.games=[],gameSet.forEach(function(game){return _this.games.push(game)}),Promise.resolve(this.games.length)},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],InMemoryGamesService.prototype,"log",void 0),InMemoryGamesService=__decorate([__param(0,core_1.Optional()),__param(0,core_1.Inject(initialization_interface_1.IInitializationService)),__metadata("design:paramtypes",[Object])],InMemoryGamesService)}();exports.default=InMemoryGamesService,exports.InMemoryGamesService=InMemoryGamesService},539:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),teams_interface_1=__webpack_require__(39),settings_interface_1=__webpack_require__(28);exports.SettingsDAO=settings_interface_1.default;var regions_1=__webpack_require__(22),initialization_interface_1=__webpack_require__(38),core_2=__webpack_require__(3),InMemorySettingsService=function(){function InMemorySettingsService(dao,initializer){this.dao=dao,this.initializer=initializer,this.teams=new Set,this.region=void 0}return InMemorySettingsService.prototype.getSavedTeamIDs=function(){var teamArray=[];return this.teams.forEach(function(team){return teamArray.push(team)}),Promise.resolve(teamArray)},InMemorySettingsService.prototype.getSavedTeams=function(){var _this=this;return this.getSavedTeamIDs().then(function(teamList){return _this.dao.getTeams(teamList)})},InMemorySettingsService.prototype.saveTeam=function(team){return this.teams.add(team),Promise.resolve()},InMemorySettingsService.prototype.unSaveTeam=function(team){return this.teams.delete(team),Promise.resolve()},InMemorySettingsService.prototype.isTeamSaved=function(team){return Promise.resolve(this.teams.has(team))},InMemorySettingsService.prototype.clearSavedTeams=function(){return this.teams.clear(),Promise.resolve()},InMemorySettingsService.prototype.getRegionNumber=function(){return Promise.resolve(this.region)},InMemorySettingsService.prototype.getRegion=function(){return Promise.resolve(regions_1.getRegionByNumber(this.region))},InMemorySettingsService.prototype.setRegion=function(region){return this.region=region,Promise.resolve()},InMemorySettingsService.prototype.init=function(){var _this=this;return null===this.initializer?Promise.resolve():this.initializer.getSettings().then(function(preset){_this.region=preset.regionNumber,_this.teams=new Set(preset.savedTeams)})},InMemorySettingsService.prototype.isAppConfigured=function(){return"undefined"!=typeof this.region},InMemorySettingsService.prototype.reset=function(){return this.region=void 0,this.teams=new Set,Promise.resolve()},InMemorySettingsService=__decorate([core_1.Injectable(),__param(0,core_1.Inject(teams_interface_1.TeamsDAO)),__param(1,core_2.Optional()),__param(1,core_1.Inject(initialization_interface_1.IInitializationService)),__metadata("design:paramtypes",[Object,Object])],InMemorySettingsService)}();exports.default=InMemorySettingsService,exports.InMemorySettingsService=InMemorySettingsService},540:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},teams_interface_1=__webpack_require__(39);exports.TeamsDAO=teams_interface_1.default,exports.Team=teams_interface_1.Team;var util_1=__webpack_require__(102),core_1=__webpack_require__(3),initialization_interface_1=__webpack_require__(38),log_decorator_1=__webpack_require__(23),InMemoryTeamsService=function(){function InMemoryTeamsService(initializer){this.initializer=initializer,this.initializePromise=null,this.teams=new Map,this.teamsArray=[],this.initialized=!1,this.initializePromise=this.init()}return InMemoryTeamsService.prototype.getTeam=function(id){var _this=this;return this.initialized?new Promise(function(resolve,reject){var team=_this.teams.get(id);"undefined"==typeof team&&reject(new RangeError("Could not find team with ID: "+id)),resolve(_this.teams.get(id))}):(this.log.debug("Waiting until after init for getTeam()"),this.initializePromise.then(function(){return _this.getTeam(id)}))},InMemoryTeamsService.prototype.getTeams=function(ids){var _this=this;return this.initialized?Promise.resolve(ids.filter(function(id){return _this.teams.has(id)}).map(function(id){return _this.teams.get(id)})):(this.log.debug("Waiting until after init for getTeams()"),this.initializePromise.then(function(){return _this.getTeams(ids)}))},InMemoryTeamsService.prototype.findTeams=function(regionNumber,ageString,genderLong){var _this=this;return this.initialized?Promise.resolve(this.teamsArray.filter(function(team){return util_1.checkPresent(regionNumber)&&regionNumber!==team.regionNumber?!1:util_1.checkPresent(ageString)&&team.division.age.toString()!==ageString?(_this.log.trace("exit on age mismatch:",ageString,"/",team.division.age),!1):util_1.checkPresent(genderLong)&&team.division.gender.long!==genderLong?(_this.log.trace("exit on gender mismatch: ",genderLong,"/",team.division.gender.long),!1):!0})):(this.log.debug("Waiting until after init for findTeams()"),this.initializePromise.then(function(){return _this.findTeams(regionNumber,ageString,genderLong)}))},InMemoryTeamsService.prototype.init=function(){var _this=this;return this.clear(),null===this.initializer?(this.initialized=!0,Promise.resolve(0)):this.initializer.getTeams().then(function(teams){return _this.teamsArray=teams,_this.teamsArray.forEach(function(team){return _this.teams.set(team.code,team)}),_this.initialized=!0,Promise.resolve(teams.length)})},InMemoryTeamsService.prototype.clear=function(){return this.teams.clear(),this.teamsArray=[],Promise.resolve()},InMemoryTeamsService.prototype.update=function(updates){var _this=this,toDelete=new Set;return updates.forEach(function(v,k){_this.teams.has(k)||(null===v?(_this.teams.delete(k),toDelete.add(k)):(_this.teams.set(k,v),_this.teamsArray.push(v)))}),toDelete.size>0&&(this.teamsArray=this.teamsArray.filter(function(team){return!toDelete.has(team.code)})),Promise.resolve()},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],InMemoryTeamsService.prototype,"log",void 0),InMemoryTeamsService=__decorate([__param(0,core_1.Optional()),__param(0,core_1.Inject(initialization_interface_1.IInitializationService)),__metadata("design:paramtypes",[Object])],InMemoryTeamsService)}();exports.default=InMemoryTeamsService,exports.InMemoryTeamsService=InMemoryTeamsService},541:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),initialization_interface_1=__webpack_require__(38),week_cache_interface_1=__webpack_require__(54);exports.WeekCacheInterface=week_cache_interface_1.default;var week_cache_interface_2=__webpack_require__(54),log_decorator_1=__webpack_require__(23),InMemoryWeeksService=function(){function InMemoryWeeksService(initializer){this.initializer=initializer,this.initializePromise=null,this.max=1,this.cur=1,this.initialized=!1,this.initializePromise=this.init()}return InMemoryWeeksService.prototype.getMaxWeeks=function(){return this.max},InMemoryWeeksService.prototype.getCurrentWeek=function(){return this.cur},InMemoryWeeksService.prototype.clear=function(){return this.cur=1,this.max=1,Promise.resolve()},InMemoryWeeksService.prototype.init=function(){var _this=this;return null!==this.initializePromise?this.initializePromise:null===this.initializer?(this.log.warn("WeekCache -- no initialization found"),Promise.resolve(1)):this.initializer.getWeekStarts().then(function(starts){return _this.log.debug("WeekCache -- initializing with: ",starts),_this.weekStarts=starts,_this.max=starts.length,_this.cur=week_cache_interface_2.calculateCurrentWeek(starts),Promise.resolve(_this.max)})},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],InMemoryWeeksService.prototype,"log",void 0),InMemoryWeeksService=__decorate([core_1.Injectable(),__param(0,core_1.Optional()),__param(0,core_1.Inject(initialization_interface_1.IInitializationService)),__metadata("design:paramtypes",[Object])],InMemoryWeeksService)}();exports.default=InMemoryWeeksService,exports.InMemoryWeeksService=InMemoryWeeksService},542:function(module,exports){var AgeGroup=function(){function AgeGroup(code,cutoff){this.code=code,this.cutoff=cutoff}return AgeGroup.prototype.toString=function(){return"U"+this.cutoff},AgeGroup.prototype.equals=function(o){return o&&o.code===this.code},AgeGroup}();exports.default=AgeGroup,exports.AgeGroup=AgeGroup},543:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),log_decorator_1=__webpack_require__(23),VsAtGameFormatPipe=function(){function VsAtGameFormatPipe(){}return VsAtGameFormatPipe.prototype.transform=function(game,args){return game.isBye()?"BYE":game.awayTeam===args[0]?"at "+game.getOpponent(args[0]):game.homeTeam===args[0]?"vs "+game.getOpponent(args[0]):(this.log.error("Could not find team ",args[0]," in game ",game),"")},__decorate([log_decorator_1.ClassLogger,__metadata("design:type",log_decorator_1.Logger)],VsAtGameFormatPipe.prototype,"log",void 0),VsAtGameFormatPipe=__decorate([core_1.Pipe({name:"vsAtGame"}),__metadata("design:paramtypes",[])],VsAtGameFormatPipe)}();exports.default=VsAtGameFormatPipe,exports.VsAtGameFormatPipe=VsAtGameFormatPipe},544:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),title_bar_component_1=__webpack_require__(17),CancellationsView=function(){function CancellationsView(){}return CancellationsView.prototype.ngOnInit=function(){this.addScript()},CancellationsView.prototype.render=function(){twttr.widgets.load()},CancellationsView.prototype.addScript=function(){var s=document.createElement("script");s.setAttribute("src","//platform.twitter.com/widgets.js"),s.onload=this.render,document.body.appendChild(s)},CancellationsView=__decorate([core_1.Component({directives:[title_bar_component_1.TitleBarComponent],styles:[],template:'\n    <title-bar></title-bar>\n    <h3 class=" text-xs-center">News and Cancellations</h3>\n\n    <article class="container text-xs-center">\n        <a class="twitter-timeline" href="https://twitter.com/AYSOKS"\n          data-widget-id="305786822305386496">Tweets by @AYSOKS</a>\n    </article>\n    '}),__metadata("design:paramtypes",[])],CancellationsView)}();exports.CancellationsView=CancellationsView},545:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),settings_interface_1=__webpack_require__(28),games_interface_1=__webpack_require__(31),common_1=__webpack_require__(11),router_1=__webpack_require__(12),common_2=__webpack_require__(11),core_2=__webpack_require__(3),title_bar_component_1=__webpack_require__(17),games2_list_component_1=__webpack_require__(152),FavoritesListView=function(){function FavoritesListView(_favorites,_gameDao){var _this=this;this._favorites=_favorites,this._gameDao=_gameDao,_favorites.getSavedTeamIDs().then(function(teams){return _this._gameDao.findForTeams(teams)}).then(function(games){return _this.gamesList=games})}return FavoritesListView=__decorate([core_1.Component({directives:[common_1.NgFor,common_2.NgIf,router_1.RouterLink,title_bar_component_1.TitleBarComponent,games2_list_component_1.default],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <h3 class="m-a-1 text-xs-center">My Teams\' Schedules</h3>\n        <div class="text-xs-center">\n            <button type="button" class="btn btn-primary-outline m-x-2 m-b-2"\n                *ngFor="#team of savedTeams" [routerLink]="[\'/TeamSchedule\', {id: team}]">\n                Team {{team}}\n            </button>\n        </div>\n\n        <two-teams-game-list [games]="gamesList">\n        </two-teams-game-list>\n\n        <div *ngIf="gamesList?.length===0">\n            <h2 style=\'text-align: center;\'>No saved teams</h2>\n            <ol>\n                <li><a [routerLink]="[\'/TeamSelect\']">Find Team</a></li>\n                <li>Open to view team page</li>\n                <li>Click the \'Save\' button in the top right</li>\n            </ol>\n            <div class=\'main-buttons\'>\n                <a [routerLink]="[\'/TeamSelect\']">Find Team</a>\n            </div>\n        </div>\n    </article>\n    '}),__param(0,core_2.Inject(settings_interface_1.default)),__param(1,core_2.Inject(games_interface_1.default)),__metadata("design:paramtypes",[Object,Object])],FavoritesListView)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FavoritesListView},546:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},common_1=__webpack_require__(11),core_1=__webpack_require__(3),router_1=__webpack_require__(12),regions_1=__webpack_require__(22),title_bar_component_1=__webpack_require__(17),FieldMapView=function(){function FieldMapView(_routeParams){this._routeParams=_routeParams}return FieldMapView.prototype.ngOnInit=function(){var id=this._routeParams.get("region");this.region=regions_1.getRegionByNumber(parseInt(id,10))},FieldMapView.prototype.hasMap=function(){return this.region&&this.region.mapFile},FieldMapView=__decorate([core_1.Component({directives:[title_bar_component_1.TitleBarComponent,common_1.NgIf],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <div *ngIf="hasMap()">\n            <img [src]="region.mapFile" alt="Field Map {{region?.name}}" />\n        </div>\n        <div *ngIf="!hasMap()">\n            <h3>Field Map</h3>\n            <div role="alert" class="alert alert-danger m-a-2 text-xs-center">\n                <strong>Error</strong> Could not find map for region {{id}}\n            </div>\n        </div>\n    </article>\n    '}),__metadata("design:paramtypes",[router_1.RouteParams])],FieldMapView)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FieldMapView},547:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),router_1=__webpack_require__(12),common_1=__webpack_require__(11),games_interface_1=__webpack_require__(31),teams_interface_1=__webpack_require__(39),core_2=__webpack_require__(3),title_bar_component_1=__webpack_require__(17),name_switch_pipe_1=__webpack_require__(158),common_2=__webpack_require__(11),GameDetail=function(){function GameDetail(_routeParams,_games,_teams){this._routeParams=_routeParams,this._games=_games,this._teams=_teams}return GameDetail.prototype.ngOnInit=function(){var _this=this,id=this._routeParams.get("id");this._games.getGame(id).then(function(game){_this.game=game,_this._teams.getTeam(game.homeTeam).then(function(t){return _this.homeTeam=t}),_this._teams.getTeam(game.awayTeam).then(function(t){return _this.awayTeam=t})})},GameDetail=__decorate([core_1.Component({pipes:[common_1.DatePipe,name_switch_pipe_1.NameSwitchPipe],directives:[title_bar_component_1.TitleBarComponent,router_1.RouterLink,common_2.NgIf],template:'\n    <title-bar></title-bar>\n    <article class="container" *ngIf="game">\n        <h2 class="text-xs-center">Game Info</h2>\n        <h3 class="col-xs-6">Week #{{game?.weekNum}}</h3>\n        <h3 class="col-xs-6 text-xs-right">{{game?.startTime | date:\'MMMdhm\'}}</h3>\n        <div class="card card-block col-xs-6">\n            <h4 class="card-title text-muted">Home Team</h4>\n            <h4 class="card-text text-primary">{{game?.homeTeam}}</h4>\n            <div class="coach" *ngIf="homeTeam">\n                <strong>Coach</strong> <span class="name">{{homeTeam.coach | NameSwitch}}</span><br />\n                <a class="tel" href="tel:{{homeTeam.coachTel}}"\n                   data-role="button" data-mini="true" data-inline="true"\n                   data-icon="arrow-r" data-iconpos="right">Call</a>\n            </div>\n        </div>\n        <div class="card card-block col-xs-6">\n            <h4 class="card-title text-muted">Away Team</h4>\n            <h4 class="card-text text-primary">{{game?.awayTeam}}</h4>\n            <div class="coach" *ngIf="awayTeam">\n                <strong>Coach</strong> <span class="name">{{awayTeam.coach | NameSwitch}}</span><br />\n                <a class="tel" href="tel:{{awayTeam.coachTel}}"\n                   data-role="button" data-mini="true" data-inline="true"\n                   data-icon="arrow-r" data-iconpos="right">Call</a>\n            </div>\n        </div>\n\n        <div *ngIf="game && game.region">\n            <button type="button" class="btn btn-secondary btn-block btn-lg"\n                    [routerLink]="[\'/MapDetail\', {region: game.region}]">\n                <div class="col-xs-6"><strong>Region</strong> {{game?.region}}</div>\n                <div class="col-xs-6 pull-xs-right">Directions &gt;</div>\n            </button>\n\n            <button type="button" class="btn btn-secondary btn-block btn-lg"\n                    [routerLink]="[\'/FieldDetail\', {region: game.region}]">\n                <div class="col-xs-6"><strong>Field</strong> {{game?.field}}</div>\n                <div class="col-xs-6 pull-xs-right">Field map &gt;</div>\n            </button>\n        </div>\n    </article>\n    '
}),__param(1,core_2.Inject(games_interface_1.default)),__param(2,core_2.Inject(teams_interface_1.TeamsDAO)),__metadata("design:paramtypes",[router_1.RouteParams,Object,Object])],GameDetail)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GameDetail},548:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),router_1=__webpack_require__(12),HomeView=function(){function HomeView(){}return HomeView=__decorate([core_1.Component({directives:[router_1.RouterLink],template:'\n    <img class="img-fluid center-block" src="/img/MainLogo.png" alt="AYSO Kansas" />\n    <article class="container main-buttons">\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'/SchedulesMenu\']">Schedules</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'/RegionList\']">Region Info</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'/FavoritesSchedule\']">My teams</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'/TwitterView\']">Cancellations</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'/Settings\']">Settings</button>\n    </article>\n    '}),__metadata("design:paramtypes",[])],HomeView)}();exports.HomeView=HomeView},549:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),router_1=__webpack_require__(12),common_1=__webpack_require__(11),data_control_service_1=__webpack_require__(153),regions_1=__webpack_require__(22),InitialConfigurationView=function(){function InitialConfigurationView(_router,_routeParams,daos,fb){this._router=_router,this._routeParams=_routeParams,this.daos=daos,this.fb=fb,this.initFormControls={},this.regions=regions_1.REGIONS}return InitialConfigurationView.prototype.setStatus=function(title,msg,statusClass){this.title=title,this.message=msg,this.statusClass=statusClass},InitialConfigurationView.prototype.ngOnInit=function(){var _this=this;this.setStatus("Status","Setting up data","alert-info"),this.daos.init().then(function(){return _this.finishDataInit(_this)},function(e){return _this.error(e)}),this.initFormControls.backend=this.fb.control("",common_1.Validators.required),this.initFormControls.regionSelect=this.fb.control("",common_1.Validators.required),this.initForm=this.fb.group(this.initFormControls),this.initFormControls.regionSelect.valueChanges.subscribe(function(v){return _this.daos.settings.setRegion(parseInt(v,10))})},InitialConfigurationView.prototype.finishDataInit=function(self){self.setStatus("Success","Finished loading data","alert-success"),this.initFormControls.backend.updateValue(!0)},InitialConfigurationView.prototype.error=function(error){console.error(error),this.setStatus(error.name,error.message,"alert-danger")},InitialConfigurationView.prototype.onSubmit=function(){this.initForm.valid||alert("Invalid form");var redirect=this._routeParams.get("url");console.log(this._routeParams),redirect?this._router.navigateByUrl(redirect):this._router.navigate(["/Home"])},InitialConfigurationView=__decorate([core_1.Component({directives:[common_1.NgFor,common_1.FORM_DIRECTIVES],styles:[".form-group label { font: 1.6rem bold }","div.alert.container { font: 0.7rem; }"],template:'\n    <article class="container">\n        <img src="img/HomeText.png" alt="AYSO Kansas" class="img-fluid center-block m-b-2" />\n        <form [ngFormModel]="initForm" (ngSubmit)="onSubmit()">\n            <h4 class="text-primary">Setup App</h4>\n\n            <div class="card card-block card-info-outline">\n                <p>This app covers all divisions <strong>except</strong>:</p>\n                <ul>\n                    <li>Region 105 - U6</li>\n                    <li>Region 208 - U10, U8 and U6</li>\n                    <li>Region 253 - U6</li>\n                    <li>Region 491 - U8 and U6</li>\n                </ul>\n            </div>\n\n            <div class="card card-block">\n                <p class="text-muted card-title">Configure the app for first run.</p>\n                <fieldset class="form-group">\n                    <label for="init-region" class="text-info">Select region</label>\n                    <select id="init-region" class="form-control" [ngFormControl]="initForm.controls.regionSelect">\n                        <option class="text-muted">Select your region...</option>\n                        <option *ngFor="#region of regions" [value]="region.number">\n                            Region {{region.number}} ({{region.name}})\n                        </option>\n                    </select>\n                </fieldset>\n\n                <div class="alert {{statusClass}} container">\n                    <h5 class="col-xs-4">Load Games</h5>\n                    <p class="col-xs-8"><strong>{{title}}:</strong> {{message}}</p>\n                    <input type="hidden" [ngFormControl]="initForm.controls.backend"/>\n                </div>\n\n                <button type="submit" class="btn btn-secondary center-block"\n                    [disabled]="!initForm?.valid">Finish</button>\n            </div>\n        </form>\n    </article>\n    '}),__metadata("design:paramtypes",[router_1.Router,router_1.RouteParams,data_control_service_1.DataControlService,common_1.FormBuilder])],InitialConfigurationView)}();exports.InitialConfigurationView=InitialConfigurationView,exports.default=InitialConfigurationView},550:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),router_1=__webpack_require__(12),regions_1=__webpack_require__(22),core_2=__webpack_require__(159),common_1=__webpack_require__(11),title_bar_component_1=__webpack_require__(17),MapView=function(){function MapView(params){this.region=regions_1.getRegionByNumber(Number.parseInt(params.get("region"),10))}return MapView=__decorate([core_1.Component({directives:core_2.ANGULAR2_GOOGLE_MAPS_DIRECTIVES.concat([common_1.NgIf,title_bar_component_1.TitleBarComponent]),styles:[".sebm-google-map-container { height: 400px; }",".container h2 { font: 2em; }"],template:'\n    <title-bar></title-bar>\n    <div class="container" *ngIf="region">\n        <h2 class="m-a-1 text-xs-center">Region {{region.number}} - {{region.name}}</h2>\n        <sebm-google-map [latitude]="region.lat" [longitude]="region.lon" [zoom]="13">\n            <sebm-google-map-marker\n                [latitude]="region.lat" [longitude]="region.lon" [title]="markerName">\n            </sebm-google-map-marker>\n        </sebm-google-map>\n    </div>\n    '}),__metadata("design:paramtypes",[router_1.RouteParams])],MapView)}();exports.MapView=MapView},551:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),regions_1=__webpack_require__(22),common_1=__webpack_require__(11),router_1=__webpack_require__(12),title_bar_component_1=__webpack_require__(17),RegionListView=function(){function RegionListView(){this.regions=regions_1.default}return RegionListView=__decorate([core_1.Component({directives:[common_1.NgFor,router_1.RouterLink,title_bar_component_1.TitleBarComponent],styles:[".region h2"],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <div class="text-xs-center">\n            <div class="region card card-block" *ngFor="#region of regions">\n                <h4 class="card-title">Region {{region.number}} - {{region.name}}</h4>\n                <button type="button" class="btn btn-secondary card-link"\n                    [routerLink]="[\'/MapDetail\', {region: region.number}]">Directions</button>\n                <button type="button" class="btn btn-secondary card-link"\n                    [routerLink]="[\'FieldDetail\', {region: region.number}]">Field Map</button>\n            </div>\n        </div>\n    </article>\n    '}),__metadata("design:paramtypes",[])],RegionListView)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=RegionListView},552:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),router_1=__webpack_require__(12),title_bar_component_1=__webpack_require__(17),common_1=__webpack_require__(11),settings_interface_1=__webpack_require__(28),core_2=__webpack_require__(3),SchedulesMenuView=function(){function SchedulesMenuView(dao){var _this=this;dao.getRegionNumber().then(function(n){return _this.regionNum=n})}return SchedulesMenuView=__decorate([core_1.Component({directives:[router_1.RouterLink,title_bar_component_1.TitleBarComponent,common_1.NgIf],template:'\n    <title-bar></title-bar>\n    <article class="main-buttons container">\n        <img class="img-fluid center-block m-b-2" src="/img/HomeText.png" alt="AYSO Kansas" />\n        <h2 *ngIf="regionNum">Region {{regionNum}} Schedules</h2>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'CurWeekSchedule\']" data-role="button">This Week</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'TeamSelect\']" data-role="button">Find Team</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'DivisionSelect\']" data-role="button">Advanced Search</button>\n        <button type="button" class="btn btn-secondary btn-block" [routerLink]="[\'FavoritesSchedule\']" data-role="button">My teams</button>\n    </article>\n    '}),__param(0,core_2.Inject(settings_interface_1.SettingsDAO)),__metadata("design:paramtypes",[Object])],SchedulesMenuView)}();exports.default=SchedulesMenuView,exports.SchedulesMenuView=SchedulesMenuView},553:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),router_1=__webpack_require__(12),common_1=__webpack_require__(11),games_interface_1=__webpack_require__(31),week_bar_component_1=__webpack_require__(255),games2_list_component_1=__webpack_require__(152),title_bar_component_1=__webpack_require__(17),SearchResultsView=function(){function SearchResultsView(_router,params,dao){var _this=this;this._router=_router,this.dao=dao,this.params={},this.games=[];var w=parseInt(params.get("week"),10);isNaN(w)||(this.params.week=w);var r=parseInt(params.get("region"),10);isNaN(r)||(this.params.region=r),this.params.gender=params.get("gender"),this.params.age=params.get("age"),dao.findGames(this.params.region,this.params.age,this.params.gender,this.params.week).then(function(result){return _this.games=result})}return SearchResultsView.prototype.navWeek=function(week){this.params.week=week,this._router.navigate(["/DivisionSchedule",this.params])},SearchResultsView=__decorate([core_1.Component({directives:[week_bar_component_1.default,games2_list_component_1.default,common_1.NgIf,title_bar_component_1.TitleBarComponent],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <h2>Search Results</h2>\n        <h3><span *ngIf="params.region">Region {{params.region}} </span> {{params.age}} {{params.gender}}</h3>\n        <week-bar [week]="params.week"(weekChange)="navWeek($event)"></week-bar>\n        <two-teams-game-list [games]="games"></two-teams-game-list>\n    </article>\n    '}),__param(2,core_1.Inject(games_interface_1.default)),__metadata("design:paramtypes",[router_1.Router,router_1.RouteParams,Object])],SearchResultsView)}();exports.SearchResultsView=SearchResultsView},554:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),common_1=__webpack_require__(11),router_1=__webpack_require__(12),ages_1=__webpack_require__(103),gender_1=__webpack_require__(73),regions_1=__webpack_require__(22),util_1=__webpack_require__(102),title_bar_component_1=__webpack_require__(17),settings_interface_1=__webpack_require__(28),week_cache_interface_1=__webpack_require__(54),SearchView=function(){function SearchView(_router,_weekCache,_settings){var _this=this;this._router=_router,this._weekCache=_weekCache,this._settings=_settings,this.weeks=[],this.regions=regions_1.REGIONS,this.ages=ages_1.AGES,this.genders=gender_1.GENDERS;var max=_weekCache.getMaxWeeks();this.weeks=new Array(max);for(var i=0;max>i;++i)this.weeks[i]=i+1;this.week=_weekCache.getCurrentWeek(),_settings.getRegionNumber().then(function(n){return _this.region=n})}return SearchView.prototype.onSubmit=function(){console.log("Submitting search form");var params={week:this.week};util_1.checkPresent(this.ageGroup)&&(params.age=this.ageGroup),util_1.checkPresent(this.gender)&&(params.gender=this.gender),util_1.checkPresent(this.region)&&(params.region=this.region),this._router.navigate(["/DivisionSchedule",params])},SearchView=__decorate([core_1.Component({directives:[common_1.CORE_DIRECTIVES,common_1.FORM_DIRECTIVES,title_bar_component_1.TitleBarComponent],styles:["#regionSelect, #weekSelect {width: 15rem; }","#divisSelect { width: 8rem; display: inline-block; }","#genderSelect { width: 7rem; display: inline-block; }","button[type=submit] { margin-left: 25% }"],template:'\n    <title-bar></title-bar>\n    <article class="container">\n    <form id="search" (ngSubmit)="onSubmit()">\n        <legend>Filter teams</legend>\n        <p></p>\n\n        <fieldset class="form-group row">\n            <label for="regionSelect" class="form-control-label  col-sm-3">Region</label>\n            <div class="col-xs-9">\n                <select id="regionSelect" class="form-control" [(ngModel)]="region">\n                    <option>Any Region</option>\n                    <option *ngFor="#r of regions" [value]="r.number">Region {{r.number}} {{r.name}}</option>\n                </select>\n            </div>\n        </fieldset>\n\n        <fieldset class="form-group row">\n            <label class="form-control-label  col-sm-3">Division</label>\n            <div class="col-sm-9">\n                <select id="divisSelect" class="form-control" [(ngModel)]="ageGroup">\n                    <option>Any</option>\n                    <option *ngFor="#age of ages" [value]="age.toString()">{{age.toString()}}</option>\n                </select>\n                <select id="genderSelect" class="form-control" [(ngModel)]="gender">\n                    <option>Any</option>\n                    <option *ngFor="#g of genders" [value]="g.long">{{g.long}}</option>\n                </select>\n            </div>\n        </fieldset>\n\n        <fieldset class="form-group row">\n            <label for="weekSelect" class="form-control-label col-sm-3">Week</label>\n            <div class="col-sm-9">\n                <select id="weekSelect" class="form-control" [(ngModel)]="week">\n                    <option *ngFor="#w of weeks" [value]="w">{{w}}</option>\n                </select>\n            </div>\n        </fieldset>\n        <button type="submit" class="btn btn-primary">Go</button>\n    </form>\n    </article>\n   '}),__param(1,core_1.Inject(week_cache_interface_1.WeekCacheInterface)),__param(2,core_1.Inject(settings_interface_1.SettingsDAO)),__metadata("design:paramtypes",[router_1.Router,Object,Object])],SearchView)}();exports.SearchView=SearchView},555:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},core_1=__webpack_require__(3),common_1=__webpack_require__(11),regions_1=__webpack_require__(22),title_bar_component_1=__webpack_require__(17),data_control_service_1=__webpack_require__(153),SettingsView=function(){function SettingsView(dataControl){this.dataControl=dataControl,this.defaultRegion=new common_1.Control("")}return SettingsView.prototype.ngOnInit=function(){var _this=this;this.regions=regions_1.REGIONS,this.dataControl.settings.getRegionNumber().then(function(r){return _this.defaultRegion.updateValue(r.toString())}),this.lastUpdate=this.dataControl.getLastUpdate(),this.defaultRegion.valueChanges.subscribe(function(val){_this.dataControl.settings.setRegion(parseInt(val,10))})},SettingsView.prototype.doReset=function(){this.dataControl.reset()},SettingsView.prototype.forceRefresh=function(){var _this=this;this.dataControl.update(!0).then(function(updated){_this.lastUpdate=updated})},SettingsView=__decorate([core_1.Component({directives:[common_1.NgFor,title_bar_component_1.TitleBarComponent,common_1.FORM_DIRECTIVES],pipes:[common_1.DatePipe],template:'\n    <title-bar></title-bar>\n    <article class="container">\n    <form>\n        <h2 class="text-xs-center">Settings</h2>\n        <div class="card card-block">\n            <label for="select-region" class="card-title">Home Region</label>\n            <p>This filters your current week view.</p>\n            <select class="form-control" [ngFormControl]="defaultRegion">\n                <option *ngFor="#region of regions" value="{{region.number}}">\n                    Region {{region.number}} ({{region.name}})\n                </option>\n            </select>\n        </div>\n\n        <div class="card card-block">\n            <h4 class="card-title">Update data</h4>\n            <p>The app normally checks for updates on start.\n            Use this if you think you missed an update.</p>\n            <div><strong>Last updated:</strong> {{lastUpdate | date:\'MMMdhm\'}}</div>\n            <button type="button" class="btn btn-info-outline" (click)="forceRefresh()">\n                Update now\n            </button>\n            <p id="update-result"></p>\n        </div>\n        <div class="card card-block card-warning-outline">\n            <h4 class="card-title">Reset App</h4>\n            <h5 class="card-title text-danger">Warning:</h5>\n            <p class="card-text">\n                This will delete all saved preferences and game info.\n                The app will be as if you first installed it.\n            </p>\n            <div class="text-xs-center">\n                <button type="button" id="reset" class="btn btn-danger" (click)="doReset()">\n                    Reset App\n                </button>\n            </div>\n        </div>\n    </form>\n    </article>\n    '}),core_1.Injectable(),__metadata("design:paramtypes",[data_control_service_1.DataControlService])],SettingsView)}();Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SettingsView},556:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),common_1=__webpack_require__(11),router_1=__webpack_require__(12),games1_list_component_1=__webpack_require__(535),title_bar_component_1=__webpack_require__(17),games_interface_1=__webpack_require__(31),teams_interface_1=__webpack_require__(39),settings_interface_1=__webpack_require__(28),name_switch_pipe_1=__webpack_require__(158),TeamScheduleView=function(){function TeamScheduleView(_router,_routeParams,_teamsDao,_gamesDao,_settings){this._router=_router,this._routeParams=_routeParams,this._teamsDao=_teamsDao,this._gamesDao=_gamesDao,this._settings=_settings,this.isTeamSaved=!1}return TeamScheduleView.prototype.ngOnInit=function(){var _this=this;this.teamID=this._routeParams.get("id"),this._teamsDao.getTeam(this.teamID).then(function(team){return _this.team=team}),this._gamesDao.findForTeam(this.teamID).then(function(list){return _this.games=list}),this._settings.isTeamSaved(this.teamID).then(function(v){return _this.isTeamSaved=v})},TeamScheduleView.prototype.initCall=function(){console.log("tel:"+this.team.coachTel)},TeamScheduleView.prototype.toggleTeamSave=function(){this.isTeamSaved?this._settings.unSaveTeam(this.teamID):this._settings.saveTeam(this.teamID),this.isTeamSaved=!this.isTeamSaved},TeamScheduleView.prototype.getSavedToggleText=function(){return this.isTeamSaved?"Unsave":"Save"},TeamScheduleView=__decorate([core_1.Component({directives:[games1_list_component_1.default,title_bar_component_1.default,common_1.NgIf],pipes:[name_switch_pipe_1.NameSwitchPipe],styles:["h4.card-text { display: inline; }"],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <div class="card card-block clearfix">\n            <h2 class="text-xs-center card-title">Team {{teamID}}</h2>\n            <button type="button" class="btn btn-sm btn-primary-outline card-link pull-xs-right" (click)="toggleTeamSave()">\n                {{getSavedToggleText()}}\n            </button>\n            <button type="button" class="btn btn-sm btn-link card-link pull-xs-right m-x-2"\n                (click)="initCall()" *ngIf="team?.coachTel">Call</button>\n            <h4 class="card-text m-a-1"><b>Coach</b> {{team?.coach | NameSwitch}}</h4>\n        </div>\n\n        <single-team-game-list [games]="games" [team]="teamID"></single-team-game-list>\n    </article>\n  '}),__param(2,core_1.Inject(teams_interface_1.TeamsDAO)),__param(3,core_1.Inject(games_interface_1.GamesDAO)),__param(4,core_1.Inject(settings_interface_1.default)),__metadata("design:paramtypes",[router_1.Router,router_1.RouteParams,Object,Object,Object])],TeamScheduleView)}();exports.default=TeamScheduleView,exports.TeamScheduleView=TeamScheduleView},557:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),router_1=__webpack_require__(12),common_1=__webpack_require__(11),teams_interface_1=__webpack_require__(39),regions_1=__webpack_require__(22),gender_1=__webpack_require__(73),ages_1=__webpack_require__(103),title_bar_component_1=__webpack_require__(17),common_2=__webpack_require__(11),name_switch_pipe_1=__webpack_require__(158),TeamSelectView=function(){function TeamSelectView(_router,fb,dao){var _this=this;this._router=_router,this.fb=fb,this.dao=dao,this.regions=regions_1.REGIONS,this.ages=ages_1.AGES,this.genders=gender_1.GENDERS,this.teamForm=fb.group({age:void 0,gender:void 0,region:void 0}),this.teamForm.valueChanges.subscribe(function(data){return console.log(data)}),this.teamForm.valueChanges.subscribe(function(data){return _this.updateTeams(data.age,data.gender,Number.parseInt(data.region,10))}),this.dao.findTeams().then(function(teams){return _this.teams=teams})}return TeamSelectView.prototype.updateTeams=function(ageString,genderLong,regionNum){var _this=this;this.dao.findTeams(regionNum,ageString,genderLong).then(function(teams){return _this.teams=teams})},TeamSelectView=__decorate([core_1.Component({directives:[common_1.CORE_DIRECTIVES,common_1.FORM_DIRECTIVES,router_1.RouterLink,title_bar_component_1.TitleBarComponent],pipes:[name_switch_pipe_1.NameSwitchPipe],styles:[".team-list: { columns: 3 }"],template:'\n    <title-bar></title-bar>\n    <article class="container">\n    <form id="team" [ngFormModel]="teamForm">\n        <legend>Filter teams</legend>\n        <fieldset class="form-group row">\n            <label for="regionSelect" class="form-control-label  col-sm-3">Region</label>\n            <div class="col-sm-9">\n                <select id="regionSelect" class="form-control" [ngFormControl]="teamForm.controls.region">\n                    <option *ngFor="#r of regions" [value]="r.number">Region {{r.number}} {{r.name}}</option>\n                </select>\n            </div>\n        </fieldset>\n\n        <fieldset class="form-group row">\n            <label for="divisSelect" class="form-control-label  col-sm-3">Age Group</label>\n            <div class="col-sm-9">\n                <select id="divisSelect" class="form-control" [ngFormControl]="teamForm.controls.age">\n                    <option *ngFor="#age of ages" [value]="age.toString()">{{age.toString()}}</option>\n                </select>\n            </div>\n        </fieldset>\n\n        <fieldset class="form-group row">\n            <label for="genderSelect" class="form-control-label  col-sm-3">Gender</label>\n            <div class="col-sm-9">\n                <select id="genderSelect" class="form-control" [ngFormControl]="teamForm.controls.gender">\n                    <option *ngFor="#g of genders" [value]="g.long">{{g.long}}</option>\n                </select>\n            </div>\n        </fieldset>\n\n        <h3 class="text-xs-center">Select Team</h3>\n        <div class="container team-list text-justify">\n            <button type="button" class="btn btn-secondary m-a-1 btn-sm"\n                *ngFor="#team of teams" [routerLink]="[\'/TeamSchedule\',{ id: team.code }]">\n                {{team.code}}<span *ngIf="teams.length<10"> - {{team.coach | NameSwitch}}</span>\n            </button>\n        </div>\n    </form>\n    </article>\n    '}),__param(2,core_1.Inject(teams_interface_1.TeamsDAO)),__metadata("design:paramtypes",[router_1.Router,common_2.FormBuilder,Object])],TeamSelectView)}();exports.default=TeamSelectView,exports.TeamSelectView=TeamSelectView},558:function(module,exports,__webpack_require__){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=3>c?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(3>c?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(k,v):void 0},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}},core_1=__webpack_require__(3),router_1=__webpack_require__(12),games_interface_1=__webpack_require__(31),week_cache_interface_1=__webpack_require__(54),settings_interface_1=__webpack_require__(28),week_bar_component_1=__webpack_require__(255),games2_list_component_1=__webpack_require__(152),title_bar_component_1=__webpack_require__(17),WeekScheduleView=function(){
function WeekScheduleView(_router,_routeParams,_games,_settings,_week){this._router=_router,this._routeParams=_routeParams,this._games=_games,this._settings=_settings,this._week=_week}return WeekScheduleView.prototype.ngOnInit=function(){var _this=this;this.week=parseInt(this._routeParams.get("num"),10);var pCur;isNaN(this.week)?(this.week=1,pCur=this._week.init().then(function(){return _this._week.getCurrentWeek()}).then(function(cur){return _this.week=cur})):pCur=Promise.resolve();var pRegion=this._settings.getRegionNumber().then(function(num){return _this.region=num});Promise.all([pCur,pRegion]).then(function(){return _this._games.findByWeek(_this.week,_this.region)}).then(function(res){return _this.games=res})},WeekScheduleView.prototype.navWeek=function(week){this._router.navigate(["/WeekSchedule",{num:week}])},WeekScheduleView=__decorate([core_1.Component({directives:[week_bar_component_1.default,games2_list_component_1.default,title_bar_component_1.TitleBarComponent],template:'\n    <title-bar></title-bar>\n    <article class="container">\n        <week-bar [week]="week" (weekChange)="navWeek($event)"></week-bar>\n        <two-teams-game-list [games]="games"></two-teams-game-list>\n    </article>\n    '}),__param(2,core_1.Inject(games_interface_1.GamesDAO)),__param(3,core_1.Inject(settings_interface_1.SettingsDAO)),__param(4,core_1.Inject(week_cache_interface_1.WeekCacheInterface)),__metadata("design:paramtypes",[router_1.Router,router_1.RouteParams,Object,Object,Object])],WeekScheduleView)}();exports.default=WeekScheduleView,exports.WeekScheduleView=WeekScheduleView},572:function(module,exports){}});